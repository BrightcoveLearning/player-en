---
title: 'Google Tag Manager Plugin for Brightcove Player'
description: In this topic, you will learn how to use the Google Tag Manager (GTM) plugin for Brightcove Player.
parent: Plugins
---
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <!-- <h3>Adding Tags to GTM</h3>
    <p>For each event you want to track, a Tag must be created in Google Tag Manager.</p>
    <p>
      To create Tags in Google Tag Manager, follow these steps </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>
          Login to your Google Tag Manager account </p>
      </li>
      <li>
        Click <strong>Tags</strong> in the left side navigation, and click the <strong>New</strong> button, and then click <strong>Tag Configuration</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Create a new tag" src="/assets/images/plugins/google-tag-manager/create-tag.png" />
          <figcaption class="bcls-caption--image">Create a new tag</figcaption>
        </figure>
      </li>
      <li>Click on the <strong>Tag Configuration</strong> box
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Tag Configuration Modal" src="/assets/images/plugins/google-tag-manager/tag-configuration-dialog.png" />
          <figcaption class="bcls-caption--image">Tag Configuration</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Select the <strong>Tag Type</strong> as <strong>Google Analytics: GA4 Configuration</strong>.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Tag configuration" src="/assets/images/plugins/google-tag-manager/tag-configuration.webp" />
          <figcaption class="bcls-caption--image">Tag configuration</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Enter the tag details:
        </p>
        <ul>
          <li>
            <strong>Measurement ID</strong> - Enter your "G-" ID, or select the variable.
          </li>
          <li>
            If you want to automatically send <code translate="no">pageview</code> events, keep the <strong>Send a page view event when this configuration loads</strong> option checked.
          </li>

        </ul>
        <p>Optional settings:</p>
        <ul>
          <li><strong>Server-side tagging</strong> - To send all GA4 events to a Tag Manager server container instead of Google Analytics, select <strong>Send to server container</strong>.</li>
          <li><strong>Parameters</strong> - Add any parameters to configure in <strong>Fields to Set</strong>.</li>
          <li><strong>Custom properties</strong> - Add any custom user properties to configure in <strong>User Properties</strong>.</li>
        </ul>
      </li>
      <li>
        <p>
          Select the corresponding trigger to to make the tag fire.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Tags in GTM" src="/assets/images/plugins/google-tag-manager/all-pages.webp" />
          <figcaption class="bcls-caption--image">Trigger</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Your Tags should look similar to this in GTM: </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Tags in GTM" src="/assets/images/plugins/google-tag-manager/tags-in-gtm.webp" />
          <figcaption class="bcls-caption--image">Tags in GTM</figcaption>
        </figure>
      </li>
    </ol> -->

  <section class="bcls-section">
    <h2 id="Overview">Overview</h2>
    <p>
      Google's Tag Manager (GTM) allows you to track the usage of your websites, video content, and mobile apps. First, you add a container tag to your assets. Then, you use a web-based user interface to customize the individual tags associated with your container tag based on your business rules.</p>
      <p>Here are some tag examples:</p>
    <ul>
      <li>Google Analytics 4 tracking code
        <!-- <aside class="bcls-aside bcls-aside--information">
           Brightcove's GTM plugin supports Google Universal Analytics at this time. Support for  will be added soon.
        </aside> -->
      </li>
      <li>Adwords Remarketing and/or Conversion Tracking code</li>
      <li>Custom HTML scripts</li>
    </ul>
    
    
    <p>If you are new to GTM, review Google's <a href="https://support.google.com/tagmanager/answer/6102821?hl=en">Tag Manager overview</a> document.</p>
    <p>
      If you are already using Google Analytics, Adwords, and DoubleClick, you may also want to use Google Tag Manager because it integrates well with these tools. GTM offers a large number of variable and trigger options.
    </p>

    <h3>Major implementation steps</h3>
    <p>From a high level, here are the major steps you must follow to implement and use GTM:</p>
     <ol class="bcls-tasklist">
      <li>Create a GTM account and setup a container - these are both part of the initial GTM setup</li>
      <li>Copy and paste the container snippets that need to be implemented on your web pages. Google suggests that this code be placed in the <code>&lt;head&gt;</code> tag or immediately after the opening <code>&lt;body&gt;</code> tag</li>
      <li>Create tags - for Google Analytics or Brightcove Player</li>
      <li>Verify that your tags work</li>
      <li>Publish your tags</li>
    </ol>
    <p>For setup details, see Google's <a href="https://support.google.com/tagmanager/answer/6103696?hl=en&ref_topic=3441530">Set up and install Tag Manager</a> document.</p>

    <h3>Working with Brightcove Player</h3>
    <p>
      Brightcove's GTM plugin enables you to track Brightcove Player events using the Google Analytics dashboard. The following player events can be tracked: 
    </p>

    <ul>
      <li>
        Player load
      </li>
      <li>
        Video impression
      </li>
      <li>
        Video view
      </li>
      <li>
        Video engagement
      </li>
      <li>
        Play request
      </li>
      <li>
        Video complete
      </li>
      <li>
        Advanced player events such as ad start, ad end </li>
      <li>
        Errors which disrupt the playback experience </li>
    </ul>
    <details>
      <summary>
        <p id="Tag_management_terminology">Tag management terminology</p>
      </summary>
      <p>
        Here are some of the common terms you will encounter when using Google Tag Manager (GTM).
      </p>
      <table class="bcls-table">
        <thead class="bcls-table__head">
          <tr>
            <th style="width:15%">Term</th>
            <th style="width:85%">Description</th>
          </tr>
        </thead>
        <tbody class="bcls-table__body">
          <tr>
            <td><strong>Container</strong></td>
            <td>
              Your tag management system account can have multiple containers (profiles), with its own tags and variables. Each container can have multiple environments, usually set up for development, staging, and production.
            </td>
          </tr>
          <tr>
            <td><strong>Data layer</strong></td>
            <td>
              The data layer refers to the collection of data that lives in the code of your web page. This JavaScript object is used to pass information from your website to your tag manager container. You can then use this information to populate variables and activate triggers in your tag configurations.
            </td>
          </tr>
          <tr>
            <td><strong>Event</strong></td>
            <td>
              Events are data points used to send data to your reporting tool.
              These are related to video loading and playback.
            </td>
          </tr>
          <tr>
            <td><strong>Tag</strong></td>
            <td>
              Tags are code snippets placed on your web page to collect user interaction data. Tag management systems simplify the process of adding tags to your site, requiring that you only supply the tag id and tag event type.
            </td>
          </tr>
          <tr>
            <td><strong>Tag marketplace</strong></td>
            <td>
              Tag marketplace templates provide code snippets for deploying a tag.
              While this reduces the amount of code knowledge needed, some familiarity with JavaScript and HTML is required for successful implementation.
            </td>
          </tr>
          <tr>
            <td><strong>Tracker</strong></td>
            <td>
              Trackers are objects that collect, store data and send that data to Google Tag Manager.
            </td>
          </tr>
          <tr>
            <td><strong>Trigger</strong></td>
            <td>
              Triggers tell when the code for a tag should be added to a page. These are user-defined conditions.
            </td>
          </tr>
        </tbody>
      </table>
    </details>
    <br/>
  </section>

  <section class="bcls-section">
    <h2 id="Requirements">Requirements</h2>
    <p>The following requirements are needed to use the GTM plugin:</p>
    <ul>
      <li>Brightcove Player v6.46.0 or later.</li>
      <li>The Google Tag Manager plugin requires that you use the Advanced embed code when publishing your player. You should NOT use the Standard (iFrame) embed code with this plugin. For details, see the <a href="#Integrating_with_Brightcove">Integrating with Brightcove</a> section.</li>
    </ul>
    <aside class="bcls-aside bcls-aside--information">Please note that Player 6 can use v1 of GTM. Player 7 requires v2.0.1 or later of GTM. Google Analytics 4 can be used with our Google Tag Manager plugin v2.0.1.</aside>
 
  </section>

  <section class="bcls-section">
    <h2 id="Reviewing_events_and_dimensions">Reviewing events and dimensions</h2>

    {% include s-general/bcplayer/gtm-plugin-events.html %}

  </section>

  <section class="bcls-section">
    <h2 id="Set_up_Google_Tag_Manager">Set up Google Tag Manager</h2>
    <p>
      To set up Google Tag Manager follow these steps: </p> <!-- <ul>
 <li>Define tag configurations for Google Analytics</li> <li>Define triggers to fire beacons</li> <li> <p>Create variables for events and custom dimensions</p> <aside class="bcls-aside bcls-aside--information"> Make sure that each dimension's name and index number from Google Tag Manager matches the player's plugin JSON file.
 </aside>
 </li>
 </ul> -->
    <h3>Steps</h3>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>
          In <a href="https://tagmanager.google.com/#/home">Tag Manager</a>, create an account or use an existing account. To create a new account, click the <strong>Create Account</strong> button.
        </p>
        <p>
          By default, a new container is created for a new account. You can create additional containers within each account.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Create account" src="/assets/images/plugins/google-tag-manager/create-account.png" />
          <figcaption class="bcls-caption--image">Create account</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Enter the values for your new account page, including the account name and container name, and select a target platform.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="New account information" src="/assets/images/plugins/google-tag-manager/new-account.png" />
          <figcaption class="bcls-caption--image">New account information</figcaption>
        </figure>
      </li>
      <li>
        Click the <strong>Create</strong> button.
      </li>
      <li>Agree to the terms of service.</li>
      <li>The <em>Install Google Tag Manager</em> dialog appears. From here you will need to copy the snippets and place them in the locations specified.
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="New account information" src="/assets/images/plugins/google-tag-manager/snippets.png" />
          <figcaption class="bcls-caption--image">Snippets</figcaption>
        </figure>
      </li>
      <li>If you ever need to get back to the snippets, you click the container ID in the GTM dashboard.
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="New account information" src="/assets/images/plugins/google-tag-manager/click-id-for-snippets.png" />
          <figcaption class="bcls-caption--image">Container ID to see snippets again</figcaption>
        </figure>
      </li>
      <!-- <li>
 Copy your Google Analytics account id for later use.
 </li>
 <li>
 Copy your Google Tag Manager tracking id for later use. This should be formatted as <code translate="No">GTM-XXXXXX</code>.
 </li> -->
    </ol>
  </section>
  
  <section class="bcls-section">
    <h2 id="Creating_variables_tags_&_triggers">Creating Triggers, Variables & Tags</h2>
    <p>Every Brightcove event that you want tracked must be created as an Event Tag in Google Tag Manager (GTM). The event IDs from GTM will then be used inside the Players module. This allows Brightcove event data to be passed to GTM events.</p>
    <p>For each Event Tag, you need to create a GTM trigger to send the event to Google Analytics. Then, in the GTM <strong>Variables</strong> tab, you will create the custom parameters associated with each event.</p> <!-- <p>You can create Variables, Tags and Triggers in Google Tag Manager, as shown below, or you can <a href="#Importing_a_container_file_in_GTM">import a Container file in GTM</a>. </p> -->
    <h3>Adding Triggers to GTM</h3>
    <p>After determining which events you want to track, create a Trigger in Google Tag Manager.</p>
    <p>
      To create Triggers in Google Tag Manager, follow these steps </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>
          Login to your Google Tag Manager account </p>
      </li>
      <li>
        Click <strong>Triggers</strong> in the left side navigation, and click the <strong>New</strong> button
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Create a new trigger" src="/assets/images/plugins/google-tag-manager/create-trigger.png" />
          <figcaption class="bcls-caption--image">Create a new trigger</figcaption>
        </figure>
      </li>
      <li>Click on the <strong>Trigger Configuration</strong> box
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Trigger Configuration Modal" src="/assets/images/plugins/google-tag-manager/trigger-configuration-dialog.png" />
          <figcaption class="bcls-caption--image">Trigger Configuration</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Select the <strong>Trigger Type</strong> as <strong>Custom Event</strong>.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Trigger configuration" src="/assets/images/plugins/google-tag-manager/trigger-configuration.png" />
          <figcaption class="bcls-caption--image">Trigger configuration</figcaption>
        </figure>
      </li>
      <li>
        Enter the <strong>Event name</strong>. The event name should look similar to the image below.
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Trigger configuration name" src="/assets/images/plugins/google-tag-manager/trigger-configuration-name.png" />
          <figcaption class="bcls-caption--image">Trigger configuration name</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Create a Trigger for each Event that you want to track.
        </p>
      </li>
      <li>
        <p>
          Your Triggers should look similar to this in GTM: </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Triggers in GTM" src="/assets/images/plugins/google-tag-manager/triggers-in-gtm.png" />
          <figcaption class="bcls-caption--image">Triggers in GTM</figcaption>
        </figure>
      </li>
    </ol>

    <h3>Adding Variables to GTM</h3>
    <p>Brightcove parameters carry additional data and are passed with events. Every Brightcove parameter that will be recorded must be created as a Variable in Google Tag Manager. The parameter name will be used inside the player, allowing Brightcove parameters to be passed to Google Tag Manager Variables.</p>
    <aside class="bcls-aside bcls-aside--information">Data layer variable creation is a essential step for collecting GA4 analytics data from Brightcove Player.</aside>
    <p>To create Variables in Google Tag Manager, follow these steps </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>
          Login to your Google Tag Manager account </p>
      </li>
      <li>
        Click <strong>Variables</strong> in the left side navigation.
      </li>
      <li>
        <p>In the <strong>User-Defined Variables</strong> section, click the <strong>New</strong> button</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Data Layer Variable" src="/assets/images/plugins/google-tag-manager/new-variable.png" />
          <figcaption class="bcls-caption--image">Data Layer Variable</figcaption>
        </figure>
      </li>
      <li>Click on the <strong>Variable Configuration</strong> box
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Variable Configuration Modal" src="/assets/images/plugins/google-tag-manager/variable-configuration-dialog.png" />
          <figcaption class="bcls-caption--image">Variable Configuration</figcaption>
        </figure>
      </li>
      <li>
        <p>
          For <strong>variable type</strong>, select <strong>Data Layer Variable</strong>.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Data Layer Variable" src="/assets/images/plugins/google-tag-manager/variable-type.png" />
          <figcaption class="bcls-caption--image">Data Layer Variable</figcaption>
        </figure>
      </li>
      <li>
        <p>These are the configuration details:</p>
        <ul>
          <li>
            <strong>Data Layer Variable Name</strong> - Name of the variable
          </li>
          <li>
            <strong>Data Layer Version</strong> - Version 2
          </li>
        </ul>
      </li>
      <!-- <li>
        <p>First, create three user-defined variables called; <strong>Event Action</strong>, <strong>Event Category</strong>, and <strong>Event Label</strong>. The configuration should look similar to this.</p>
        <ul>
          <li>
            <strong>Event Action</strong> - eventAction
          </li>
          <li>
            <strong>Event Category</strong> - eventCategory
          </li>
          <li>
            <strong>Event Label</strong> - eventLabel
          </li>
        </ul>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Event action variable" src="/assets/images/plugins/google-tag-manager/event-action-variable.png" />
          <figcaption class="bcls-caption--image">Event action variable</figcaption>
        </figure>
      </li> -->
      <li>
        <p>
          Then create the variables required to reflect the Brightcove parameters. In this case, the name of the <strong>Data Layer Variable</strong> should match what is in the player’s JSON config for <code>paramsToTrack</code> after <strong>customDimensions</strong> in the GTM variable. Here is an example: </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Account variable" src="/assets/images/plugins/google-tag-manager/account-variable.png" />
          <figcaption class="bcls-caption--image">Account variable</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Brightcove parameters you can create as GTM variables: </p>
        <ul>
          <li>
            <strong>Account (account)</strong> - Brightcove account ID
          </li>
          <li>
            <strong>Player (player)</strong> - Player ID
          </li>
          <li>
            <strong>Player Name (player_name)</strong> - Player Name
          </li>
          <li>
            <strong>Platform Version (platform_version)</strong> - Platform version number
          </li>
          <li>
            <strong>Session (session)</strong> - Session identifier
          </li>
          <li>
            <strong>Video (video)</strong> - Video ID
          </li>
          <li>
            <strong>Video Name (video_name)</strong> - Name of the video
          </li>
          <li>
            <strong>Range (range)</strong> - The range of seconds viewed in the format StartSecond..EndSecond
          </li>
          <li>
            <strong>Video Seconds Viewed (seconds_viewed)</strong> - Count of watched seconds
          </li>
          <li>
            <strong>Video Duration (duration)</strong> - The duration of the video in seconds
          </li>
          <li>
            <strong>Video Percent Viewed (percent_viewed)</strong> - Percentage of video watched
          </li>
          <li>
            <strong>Error Code (error)</strong> - Platform specific error code associated with the event
          </li>
          <li>
            <strong>Video Milestone (milestone)</strong> - Milestone (25%,50%,75%,100%) completed by the video
          </li>
          <li>
            <strong>Video Playhead (playhead)</strong> - The time in the video at which the event is triggered
          </li>
          <!-- <li>
 <strong>Country</strong> - ISO-3166 (alpha 2) country code, e.g.: US </li>
 <li>
 <strong>Country Name</strong> - Human readable country name e.g.: United States </li>
 <li>
 <strong>Region</strong> - ISO-3166 (alpha 2) region code </li>
 <li>
 <strong>Region Name</strong> - Human readable region name </li>
 <li>
 <strong>City</strong> - City Name
 </li>
 <li>
 <strong>Browser</strong> - Full name and version of the browser used </li>
 <li>
 <strong>Browser Type</strong> - Common name of browser used (i.e. Chrome, Edge, Firefox) </li> -->
          <li>
            <strong>Destination</strong> - URI that originated the event
          </li>
          <!-- <li>
 <strong>Source</strong> - URI that sent end-user to destination </li>
 <li>
 <strong>Device Type</strong> - Override to specify the OS of the device that originated the event in cases where the User-Agent is unreliable </li>
 <li>
 <strong>Device OS</strong> - The name of OS being used by the device </li>
 <li>
 <strong>Device OS Version</strong> - The version of OS being used by the device </li> -->
        </ul>
      </li>
      <li>
        <p>
          Your user-defined Variables should look similar to this in GTM: </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="User-defined variables" src="/assets/images/plugins/google-tag-manager/user-defined-vars.png" />
          <figcaption class="bcls-caption--image">User-defined variables</figcaption>
        </figure>
      </li>
    </ol>
    
    <h3>Adding Tags to GTM</h3>
    <p>For each event you want to track, a Tag must be created in Google Tag Manager.</p>
    <p>
      To create Tags in Google Tag Manager, follow these steps </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>
          Login to your Google Tag Manager account </p>
      </li>
      <li>
        Click <strong>Tags</strong> in the left side navigation, and click the <strong>New</strong> button, and then click <strong>Tag Configuration</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Create a new tag" src="/assets/images/plugins/google-tag-manager/create-tag.png" />
          <figcaption class="bcls-caption--image">Create a new tag</figcaption>
        </figure>
      </li>
      <li>Click on the <strong>Tag Configuration</strong> box
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Tag Configuration Modal" src="/assets/images/plugins/google-tag-manager/tag-configuration-dialog.png" />
          <figcaption class="bcls-caption--image">Tag Configuration</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Select the <strong>Tag Type</strong> as <strong>Google Analytics: GA4 Configuration</strong>.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Tag configuration" src="/assets/images/plugins/google-tag-manager/tag-configuration.webp" />
          <figcaption class="bcls-caption--image">Tag configuration</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Enter the tag details:
        </p>
        <ul>
          <li>
            <strong>Measurement ID</strong> - Enter your "G-" ID, or select the variable.
          </li>
          <li>
            If you want to automatically send <code translate="no">pageview</code> events, keep the <strong>Send a page view event when this configuration loads</strong> option checked.
          </li>

          <!-- <li>
            <strong>Action</strong> - Event Action Variable
          </li>
          <li>
            <strong>Label</strong> - Event Label Variable
          </li>
          <li>
            <strong>Value</strong> - Nil
          </li>
          <li>
            <strong>Non interaction hit</strong> - Set to <strong>True</strong>
          </li>
          <li>
            <strong>Google Analytics Settings</strong> - Default setting
          </li>
          <li>
            <strong>Tracking ID</strong> - Tracking ID of GA dashboard.
          </li> -->
        </ul>
        <p>Optional settings:</p>
        <ul>
          <li><strong>Server-side tagging</strong> - To send all GA4 events to a Tag Manager server container instead of Google Analytics, select <strong>Send to server container</strong>.</li>
          <li><strong>Parameters</strong> - Add any parameters to configure in <strong>Fields to Set</strong>.</li>
          <li><strong>Custom properties</strong> - Add any custom user properties to configure in <strong>User Properties</strong>.</li>
        </ul>
      </li>
      <li>
        <p>
          Select the corresponding trigger to to make the tag fire.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Tags in GTM" src="/assets/images/plugins/google-tag-manager/all-pages.webp" />
          <figcaption class="bcls-caption--image">Trigger</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Your Tags should look similar to this in GTM: </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Tags in GTM" src="/assets/images/plugins/google-tag-manager/tags-in-gtm.webp" />
          <figcaption class="bcls-caption--image">Tags in GTM</figcaption>
        </figure>
      </li>
    </ol>
   
    <aside class="bcls-aside bcls-aside--information">
      For additional information on creating variables, tags, and triggers, see <a href="https://support.google.com/tagmanager/answer/9442095?hl=en&ref_topic=6333310">here</a>.
    </aside>
  </section>

  <section class="bcls-section">
    <h2 id="Integrating_with_Brightcove">Integrating with Brightcove</h2>
    <p>
      To integrate GTM with Brightcove Player, add the Google Tag Manager plugin to your player.
    </p>
    <h3>Using Studio</h3>
    <p>
      The following steps detail using Video Cloud Studio to load the plugin.
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        In Video Cloud Studio, open the <strong>PLAYERS</strong> module and either create a new player or locate the player to which you wish to add the plugin.
      </li>
      <li>Click the link for the player to open the player's properties.</li>
      <li>Click <strong>Plugins</strong> in the left navigation menu.</li>
      <li>
        <p>
          Next, click the <strong>Add a Plugin</strong> button, and then select <strong>Brightcove Plugin</strong>.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Add a Plugin button" src="/assets/images/plugins/google-tag-manager/add-a-plugin.png" />
          <figcaption class="bcls-caption--image"> Add a Plugin button </figcaption>
        </figure>
      </li>
      <li>
        <p>
          Expand the <strong>Brightcove Plugin</strong> dropdown and select <strong>Google Tag Manager</strong>.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Google Tag Manager plugin" src="/assets/images/plugins/google-tag-manager/gtm-plugin.png" />
          <figcaption class="bcls-caption--image"> Google Tag Manager plugin </figcaption>
        </figure>
      </li>
      <li>
        <p>
          To tell the player which events and custom dimensions you want to track, create a JSON object to paste into the <strong>Options(JSON)</strong> text box.
        </p>
        <p>
          Field descriptions:
        </p>
        <ul>
          <li><code translate="No">tracker</code> - Your Google Tag Manager tracking id (GTM-XXXXXXX)</li>
          <li><code translate="No">eventsToTrack</code> - Events you want to track</li>
          <li><code translate="No">paramsToTrack</code> - Custom dimensions you want to track</li>
          <li><code translate="No">milestones</code> - An array of integers to alter the milestones from the default of 25, 50, 75, 100%. Of course, this is only applicable when <code>bcvideo_video_milestone</code> is being tracked.</li>
        </ul>
        <aside class="bcls-aside bcls-aside--tip">
          For a complete list of events and dimensions, see the <a href="#Reviewing_events_and_dimensions">Reviewing events and dimensions</a> section.
       </aside>

        <p>Here is an example:</p>
        <pre class="line-numbers">
 <code class="language-json" translate="No">{ 
  "tracker":"<span class="bcls-input">your Google Tag Manager id</span>", 
  "eventsToTrack": {
    "ad_end": "Ad End",
    "ad_start": "Ad Start",
    "error": "Error",
    "play_request": "Play Request",
    "player_load": "Player Load",
    "video_complete": "Video Complete",
    "video_engagement": "Video Engagement", "video_impression": "Video Impression", "video_view": "Video View"
  },
  "paramsToTrack": {
    "bcvideo_video_duration": "duration",
    "bcvideo_error_code": "error",
    "bcvideo_account": "account",
    "bcvideo_session": "session",
    "bcvideo_video_milestone": "milestone", 
    "bcvideo_video_name": "video_name",
    "bcvideo_range": "range",
    "bcvideo_video_seconds_viewed": "seconds_viewed", 
    "bcvideo_player_name": "player_name",
    "bcvideo_video_percent_viewed": "percent_viewed", 
    "bcvideo_destination": "destination",
    "bcvideo_video_playhead": "playhead"
  }
 <!-- ,
 "milestones": [
 10,
 20,
 30,
 40,
 50,
 60,
 70,
 80,
 90,
 100
 ] -->
 }</code></pre>
        <aside class="bcls-aside bcls-aside--tip"> Make sure your custom dimensions in the JSON object match the name and index within Google Analytics.
        </aside>
      </li>
      <li>
        <p>
          Click the <strong>Save</strong> button. You will now see the <strong>Google Tag Manager</strong> plugin added to the list of plugins for your player.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Save button" src="/assets/images/plugins/google-tag-manager/gtm-save.png" />
          <figcaption class="bcls-caption--image">Save button</figcaption>
        </figure>
      </li>
      <li>
        To publish the player, select
        <strong>Publish &amp; Embed &gt; Publish Changes</strong>.
      </li>
      <li>To close the dialog, click <strong>Close</strong>.</li>
      <li>
        <p>
          Return to the <strong>MEDIA</strong> module and publish your video or playlist using the player you just updated for Google Tag Manager. Choose the Advanced embed code to publish your player.
        </p>
        <aside class="bcls-aside bcls-aside--information">
          The Google Tag Manager plugin requires that you use the Advanced embed code when publishing your player. You should NOT use the Standard (iFrame) embed code with this plugin.
       </aside>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Advanced embed code" src="/assets/images/plugins/google-tag-manager/advanced-embed-code.webp" />
          <figcaption class="bcls-caption--image">Advanced embed code</figcaption> 
        </figure>     
      </li>
      <li>
        <p>
          When your player loads and the user interacts with the player, the specified events and parameters will be tracked.
        </p>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Creating_custom_dimensions"> Creating custom dimensions </h2>
    <p>
      Custom dimensions are metrics that you create yourself in Google Analytics. Use the follow steps to create the custom dimensions in the Google Analytics UI:
    </p>
    <ol class="bcls-tasklist-restart">
      <li>Login to your Google Analytics account.</li>
      <li>In the GA page:
        <ol type="a">
          <li>Click <strong>Admin</strong> (gear icon) in the bottom-let of the UI.</li>
          <li>In the <strong>Property</strong> column, click <strong>Custom Definitions</strong>.
            <figure class="bcls-figure">
              <img class="bcls-image" src="/assets/images/publish/copied-code-details/ga-ui-custom-definitions.webp" alt="custom dimensions">
            </figure>
          </li>
        </ol>
      </li>
      <li>Click <strong>Create custom dimension.</strong>
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/publish/copied-code-details/create-custom-dimensions.webp" alt="">
        </figure>
      </li>
      <li> <p>Fill in the fields with the necessary information:</p>
        <ul>
          <li><strong>Dimension name</strong>: Friendly name for your parameter.</li>
          <li><strong>Scope</strong>: This is always <em>Event</em> for Brightcove GA plugin.</li>
          <li><strong>Description</strong>: Add appropriate description.</li>
          <li><strong>Event parameter</strong>: Choose one of the parameters listed just above.</li>
        </ul>
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/publish/copied-code-details/new-custom-dimension.webp" alt="">
        </figure>
      </li>
    </ol>
    <p>For further information on using the Google Analytics UI, see the following:</p>
    <ul>
      <li><a href="https://support.google.com/analytics/answer/10089681">Introducing the next generation of Analytics, Google Analytics 4</a></li>
      <li><a href="https://support.google.com/analytics/answer/9304153">Set up Analytics for a website and/or app</a></li>
      <li><a href="https://support.google.com/analytics/answer/9744165">Add a Google Analytics 4 property (to a site that already has Analytics)</a></li>
      <li><a href="https://support.google.com/analytics/answer/10075209?hl=en">[GA4] Custom dimensions and metrics</a>: Create dimensions and metrics from event parameters and user properties so you can easily access data in reports and explorations</li>
    </ul>
    <!-- <ol class="bcls-tasklist-restart">
      <li>
        <p>Log in to Google Analytics.</p>
      </li>
      <li>
        <p>Click <strong>Admin</strong>.</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Analytics admin" src="/assets/images/plugins/google-tag-manager/analytics-admin.png" />
          <figcaption class="bcls-caption--image"> Analytics admin </figcaption>
        </figure>
      </li>
      <li>
        <p>Click on <strong>Custom Definitions</strong> to expand it, then select <strong>Custom Dimensions</strong>.</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Custom dimensions" src="/assets/images/plugins/google-tag-manager/custom-dimensions.png" />
          <figcaption class="bcls-caption--image"> Custom dimensions </figcaption>
        </figure>
      </li>
      <li>
        <p>Click the <strong>New Custom Dimension</strong> button.</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="New Custom dimensions" src="/assets/images/plugins/google-tag-manager/create-custom-dimensions.png" />
          <figcaption class="bcls-caption--image"> New Custom dimensions </figcaption>
        </figure>
      </li>
      <li>
        <p>Enter the <strong>Custom Dimension Name</strong> and then click on <strong>Create</strong>. Google Analytics will assign an index number automatically. You will need to create a custom dimension for each parameter you want to track.</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Add Custom dimensions" src="/assets/images/plugins/google-tag-manager/add-custom-dimension.png" />
          <figcaption class="bcls-caption--image"> Add Custom dimensions </figcaption>
        </figure>
      </li>
    </ol> -->
    <!-- GOOGLE APP SCRIPT SECTION BELOW -->
    <!-- <h3>Adding custom dimensions with Google App Script</h3>
    <p>To use a Google App Script to create custom dimensions, follow these steps:</p>
    <ol class="bcls-tasklist-restart">
      <li>If you are new to custom dimensions, review Google's <a href="https://support.google.com/analytics/answer/2709828?hl=en">Custom dimensions & metrics</a> document.</li>
      <li>
        Log in to Google.
      </li>
      <li>
        <p>
          Navigate to the
          <a href="https://script.google.com/home/start">G Suite Developer Hub</a> and select the Apps Script new blank project.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Apps Script project" src="/assets/images/plugins/google-tag-manager/apps-script-project.png" />
          <figcaption class="bcls-caption--image"> Apps Script project </figcaption>
        </figure>
      </li>
      <li>
        <p>
          Select <strong>Untitled project</strong> and give your project a name.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Script editor" src="/assets/images/plugins/google-tag-manager/script-editor.png" />
          <figcaption class="bcls-caption--image"> Script editor </figcaption>
        </figure>
      </li>
      <li>
        <p>Copy the following custom app script code to an editor, and update the following values:</p>
        <ul>
          <li>
            <code translate="No">accountId</code> - Your Google Analytics account ID
          </li>
          <li>
            <code translate="No">webPropertyId</code> - Your Google account tracking ID
          </li>
          <li>
            <code translate="No">dimensions</code> - The custom dimensions to be added. The current list contains all of the custom dimensions. Notice that the dimensions are prefixed with <code translate="No">bcvideo_</code>. This is to ensure there are no naming conflicts with these variables.
          </li>
        </ul>
        <pre class="line-numbers">
 <code class="language-javascript" translate="No">//Set values for GA Account ID and web property ID to which you have to set custom dimensions.
 var accountId='<span class="bcls-input">your account id</span>'; var webPropertyId='<span class="bcls-input">your tracking code</span>'; 
 //Add required custom dimensions to be created to this list 
 var dimensions=<span class="bcls-highlight">['bcvideo_video_seconds_viewed','bcvideo_video_playhead','bcvideo_account','bcvideo_player','bcvideo_player_name','bcvideo_video','bcvideo_video_name','bcvideo_session','bcvideo_platform_version','bcvideo_range','bcvideo_video_duration', 'bcvideo_video_percent_viewed','bcvideo_error_code','bcvideo_milestone','bcvideo_destination'];</span> 
 //Function to create custom dimensions in GA 
 function createGACustomDimensions() {
 //This loop iterates through the custom dimensions in order to set the custom dimension scope, active values into our GA property 
 for(var index=0;index&lt;dimensions.length;index++){ 
  var customDimensions ={
    'name': dimensions[index],
    'scope':'HIT',
    'active':true,
 }
 //This create a request to the new custom dimension Analytics.Management. insert(customDimensions,accountId,webPropertyId); 
 // Pause for 1 second between adding each custom dimension, this ensure that the GA property has time 
 // to process the request fully before moving to the next custom dimension.
 Utilities.sleep(1000)
 }
 }</code></pre>
        <aside class="bcls-aside bcls-aside--tip"> In this example, we are putting the dimensions in an object named <code translate="No">customDimensions</code>. To add these as data layer variables, you need to reference each variable name as <code translate="No">bcvideo_{dimension}</code> </aside> 
      </li>
      <li>
        <p>
          Replace the <code translate="No">function myFunction(){}</code> code block, as shown below, with your custom app script.
        </p>
        <pre class="line-numbers">
 <code class="language-javascript" translate="No">function myFunction() { }</code></pre>
      </li>
      <li>
        Save the project. You need to save the project to be able to use Google Analytics API.
      </li>
      <li>
        <p>
          To enable Google Analytics API, in the script editor, select <strong>Services</strong>.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Services" src="/assets/images/plugins/google-tag-manager/advanced-services.webp" />
          <figcaption class="bcls-caption--image">Services</figcaption>
        </figure>
      </li>
      <li>
        <p>
          Then, find <strong>Google Analytics API</strong> and select it. Click <strong>Add</strong>.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Google Analytics API" src="/assets/images/plugins/google-tag-manager/enable-gtm2.webp" />
          <figcaption class="bcls-caption--image"> Google Analytics API </figcaption>
        </figure>
      </li>
      <li>
        <p>To run your app script, click <strong>Run</strong></p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Run script" src="/assets/images/plugins/google-tag-manager/run-script.webp" />
          <figcaption class="bcls-caption--image">Run script</figcaption>
        </figure>
      </li>
      <li>
        <p>If you have more than one function, you can select a specific one and then click <strong>Run</strong></p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Select function" src="/assets/images/plugins/google-tag-manager/select-function.webp" />
          <figcaption class="bcls-caption--image">Select function</figcaption>
        </figure>
      </li>
    </ol> -->
  </section>

  <section class="bcls-section">
    <h2 id="Viewing_custom_dimensions"> Viewing custom dimensions </h2>
    <p>To view custom dimensions in Google Analytics, follow these steps: </p>
    <ol class="bcls-tasklist-restart">
      <li>
        Log in to Google Analytics.
      </li>
      <li>
        <p>
          Click <strong>Admin</strong>
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Analytics admin" src="/assets/images/plugins/google-tag-manager/analytics-admin.png" />
          <figcaption class="bcls-caption--image"> Analytics admin </figcaption>
        </figure>
      </li>
      <li>
        <p>
          Click on <strong>Custom Definitions</strong>
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Custom dimensions" src="/assets/images/plugins/google-tag-manager/custom-dimensions.png" />
          <figcaption class="bcls-caption--image"> Custom dimensions </figcaption>
        </figure>
      </li>
      <li>
        <p>
          You should see the custom dimensions.
        </p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Dimensions and indices" src="/assets/images/plugins/google-tag-manager/dimensions-indices.webp" />
          <figcaption class="bcls-caption--image"> Dimensions </figcaption>
        </figure>
      </li>
    </ol>
  </section>

  <!-- <section class="bcls-section">
    <h2 id="GTM_dual_tagging">GTM dual tagging</h2>
    <p>To set up dual tagging in a website that already uses Universal Analytics through Google Tag Manager, a corresponding tag in Google Tag Manager for Google Analytics 4 will need to be set up for every current tag. The process must be replicated until all current Universal Analytics tags have parallel Google Analytics 4 tags.</p>
    <ol class="bcls-tasklist-restart">
      <li> <p>Create a <a href="https://support.google.com/analytics/answer/9744165?hl=en#zippy=%2Cin-this-article">Google Analytics 4 property</a> and note its tracking ID. In Google Tag Manager, create a new tag and select <strong>Google Analytics: GA4 configuration</strong> as the tag type.</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Analytics admin" src="/assets/images/plugins/google-tag-manager/creating-tag.webp" />
          <figcaption class="bcls-caption--image">Create tag</figcaption>
        </figure>
      </li>
      <li><p>Enter the new GA4 property tracking ID in the measurement ID field.</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Analytics admin" src="/assets/images/plugins/google-tag-manager/property-id.webp" />
          <figcaption class="bcls-caption--image">Property Tracking ID</figcaption>
        </figure>
      </li>
      <li><p>Select <strong>All pages</strong> as the trigger to make the tag fire.</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Analytics admin" src="/assets/images/plugins/google-tag-manager/triggering.webp" />
          <figcaption class="bcls-caption--image">Selecting Trigger</figcaption>
        </figure>
      </li>
      <li><p>Create a GA4 tag for every Universal Analytics event that is set up. For example, to set up the <code translate="no">play_request</code> event, you must create the trigger first.</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Analytics admin" src="/assets/images/plugins/google-tag-manager/play-request.webp" />
          <figcaption class="bcls-caption--image">Play Request Trigger</figcaption>
        </figure>
      </li>
      <li><p>Then, create a tag and select <strong>Google Analytics: GA4 Event</strong> as the tag type, select <strong>Google Analytics: GA4 configuration</strong> as the configuration type, <code translate="no">play_request</code> as the event name, and select the play request trigger as the firing trigger.</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Analytics admin" src="/assets/images/plugins/google-tag-manager/play-request-config.webp" />
          <figcaption class="bcls-caption--image">Play Request Tag Configuration</figcaption>
        </figure>
      </li>
      <li><p>To test the setup, click <strong>Preview</strong> on the top right corner and enter the website URL with UA GTM installed. Make sure that the newly set GA4 tags get fired along with the already existing UA tags.</p>
        <figure class="bcls-figure">
          <img class="bcls-image--no-border" alt="Analytics admin" src="/assets/images/plugins/google-tag-manager/play-request-final-setup.webp" />
          <figcaption class="bcls-caption--image">Play Request Test</figcaption>
        </figure>
      </li>
    </ol>
  </section> -->
</article>
<!-- <section class="bcls-section"> <h2 id="Importing_a_container_file_in_GTM">Importing a container file</h2> <p> One way to add Variables, Tags and Triggers to Google Tag Manager is to import a JSON-formatted Container file. For details, see Google's <a href="https://support.google.com/tagmanager/answer/6106997?hl=en">Container export and import</a> document.
 </p>
 <h3>Steps</h3>
 <p>
 Follow these steps to import a Container file: </p> <ol class="bcls-tasklist-restart"> <li></li></ol> <p>
 In your JSON-formatted Container file, set the following values: </p>