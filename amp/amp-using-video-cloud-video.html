---
title: AMP Using a Video Cloud Video
parent: amp
description: In this topic, you will learn how Accelerated Mobile Pages (AMP) can be used with Brightcove Player.
---
<article class="bcls-article">
    <h1>AMP Using a Video Cloud Video</h1>
    <summary>{{ page.description }}</summary>
    <section class="bcls-section">
        <aside class="bcls-aside bcls-aside--warning">This document uses AMP with Brightcove Player version 7 and a Video Cloud video. If you are a non-Video Cloud customer see <a href="/amp/amp-using-external-video.html">AMP Using an External Video</a>.</aside>
        <h2 id="Overview">Overview</h2>
        <p>Accelerated Mobile Pages is a Google project that aims to enable "the creation of websites and ads that are consistently fast, beautiful and high-performing across devices and distribution platforms." You can use Brightcove Player with AMP because the project includes an <code translate="No">amp-brightcove</code> component which allows publishers to embed Brightcove Players within AMP HTML documents.</p>
    </section>
    <section class="bcls-section">
        <h2 id="Sample">Sample</h2>
        <p>The following is a sample AMP HTML page that includes a Brightcove Player. The player functions normally, so the HTML is the interesting part of this sample. The HTML code is examined later in this document.</p>
        <p class="codepen" data-height="330" data-theme-id="34967" data-default-tab="html,result" data-user="rcrooks1969" data-slug-hash="ddKwre" style="height: 330px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="AMP Example"><span>See the Pen <a href="https://codepen.io/team/rcrooks1969/pen/ddKwre/"> AMP Example</a> by Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969">@rcrooks1969</a>) on <a href="https://codepen.io">CodePen</a>.</span></p>
        <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
        <aside class="bcls-aside bcls-aside--warning">Note that because of the way AMP works, you must carefully consider its limitations before use. For example:
            <ul>
                <li>AMP has very strict rules on what HTML can and cannot be used on a page. Details on this can be viewed in the <a href="https://www.ampproject.org/docs/reference/spec">AMP HTML Specification</a>.</li>
                <li>Brightcove Analytics will not correctly report the referring page for AMP pages - instead the <code translate="No">referrer_domain</code> will be blank, and <code translate="No">source_type</code> will be recorded as <code translate="No">direct</code>.</li>
                <li>Few of the attributes used with Brightcove Player's Advanced (in-page) implementation are valid with <code translate="No">&lt;amp-brightcove ..&gt;</code>. Check the <a href="https://www.ampproject.org/docs/reference/spec">AMP HTML Specification</a> for those that can be used.</li>
                <li>AMP will not work with domain restricted players.</li>
            </ul>
        </aside>
    </section>
    <section class="bcls-section">
        <h2 id="Player_configuration">Player configuration</h2>
        <p>Brightcove supplies a plugin you will want to load to enhance the use of AMP with Brightcove Player. The plugin adds support for AMP's video interface API which AMP requires&nbsp;to control the player within the AMP document. It also enables some&nbsp;advanced features:</p>
        <ul>
            <li><strong>Integration with amp-analytics</strong>: Allows tracking of views to third party analytics against the AMP page domain.</li>
            <li><strong>Integration with amp-bind</strong>: Playback can be controlled by other elements in the AMP page.</li>
        </ul>
        <p>Players without the plugin may not behave as expected in an AMP document.</p>
        <h3><strong>Plugin installation</strong></h3>
        <aside class="bcls-aside bcls-aside--warning">You MUST install the plugin. In the past AMP would work without adding the plugin. This is no longer true.</aside>
        <p>As with all Brightcove Player plugins, you need the plugin's name and URL to the plugin's JavaScript, which are provided here (no CSS file is necessary for this plugin's use):</p>
        <h4>Plugin name</h4>
        <pre class="line-numbers">
  <code class="language-html" translate="No">ampSupport</code></pre>
        <h4>JavaScript URL</h4>
        <pre class="line-numbers">
  <code class="language-html" translate="No">//players.brightcove.net/videojs-amp-support/1/videojs-amp-support.js</code></pre>
        <p>To implement the AMP Plugin you will add the function name of the plugin and the URL to the plugin's JavaScript:</p>
        <ol class="bcls-tasklist">
            <li>In Studio, open the <strong>PLAYERS</strong> module and either create a new player or locate the player to which you wish to add the plugin.</li>
            <li>Click the link for the player to open the player's properties.</li>
            <li>Click <strong>Plugins</strong> in the left navigation menu.</li>
            <li>Next click <strong>Plugins</strong> from the three options.
                <figure class="bcls-figure"><img class="bcls-image" alt="Select Plugin" src="/assets/images/amp/amp-vc-players-plugin-options.png" /></figure>
            </li>
            <li>From the <strong>Add a Plugin</strong> select <strong>Custom Plugin</strong>.</li>
            <li>For the <strong>Plugin Name</strong> enter <code translate="No">ampSupport</code>.</li>
            <li>For the <strong>JavaScript</strong> URL, enter:
                <pre>
  <code class="language-json" translate="No">//players.brightcove.net/videojs-amp-support/1/videojs-amp-support.js</code></pre>
            </li>
            <li>You do not have to enter any CSS or options for this plugin.
                <figure class="bcls-figure"><img class="bcls-image" alt="Install plugin" src="/assets/images/amp/amp-vc-studio-install-plugin.png" /></figure>
            </li>
            <li>Click <strong>Save</strong>.</li>
            <li>To publish the player, click <strong>Publish &amp; Embed &gt; Publish Changes</strong>.</li>
            <li>To close the open dialog, click <strong>Close</strong>.</li>
        </ol>
    </section>
    <section class="bcls-section">
        <h2 id="Resources_from_AMP">Resources from AMP</h2>
        <p>The AMP project developed a special <code translate="No">amp-brightcove</code> component that displays the Brightcove Player. The component is detailed in the <a href="https://www.ampproject.org/docs/reference/components/amp-brightcove">amp-brightcove document.</a></p>
        <p>AMP provides an example <code translate="No">amp-brightcove</code> implementation with details in the following documents:</p>
        <ul>
            <!-- 2 links below broken - couldn't find an replacements, but leaving it in place in case someone else can -->
            <!-- <li><a href="https://ampbyexample.com/components/amp-brightcove/">amp-brightcove</a></li> -->
            <li><a href="https://github.com/ampproject/amp-by-example/blob/master/src/20_Components/amp-brightcove.html">amp-by-example</a></li>
            <!-- <li><a href="https://ampbyexample.com/playground/#url=https%3A%2F%2Fampbyexample.com%2Fcomponents%2Famp-brightcove%2Fsource%2F">AMP Playground</a></li> -->
        </ul>
    </section>
    <section class="bcls-section">
        <h2 id="Code_examination">Code examination</h2>
        <p>The code from the CodePen sample above is shown below. A complete explanation of the code is provided by AMP in the documents linked to above. In the following list are a few tricks/traps to be aware of:</p>
        <ul>
            <li>Line 20: DO NOT beautify the code. The boilerplate CSS is needed as supplied by AMP.</li>
            <li>Line 35: The <code translate="No">width</code> and <code translate="No">height</code> attributes determine the aspect ratio of the player embedded in responsive layouts.</li>
        </ul>
        <pre class="line-numbers" data-start="1">
  <code class="language-html" translate="No">&lt;!--
    ## Introduction

    The `amp-brightcove` component allows embedding a Brightcove
    [Video Cloud](https://www.brightcove.com/en/online-video-platform) or
    [Perform](https://www.brightcove.com/en/perform) player.
  --&gt;
  &lt;!-- --&gt;
  &lt;!doctype html&gt;
  &lt;html âš¡&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;amp-brightcove&lt;/title&gt;
    &lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;
    &lt;!-- ## Setup --&gt;
    &lt;!-- Import the Brightcove component in the header. --&gt;
    &lt;script async custom-element="amp-brightcove" src="https://cdn.ampproject.org/v0/amp-brightcove-0.1.js"&gt;&lt;/script&gt;
    &lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;
    &lt;link rel="canonical" href="https://ampbyexample.com/components/amp-brightcove/"&gt;
    &lt;style amp-boilerplate&gt;body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}&lt;/style&gt;&lt;noscript&gt;&lt;style amp-boilerplate&gt;body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}&lt;/style&gt;&lt;/noscript&gt;

  &lt;/head&gt;
  &lt;body&gt;

    &lt;!-- ## Basic Usage --&gt;
    &lt;!--
      A responsive brightcove video. The required data is `data-account` and `data-video-id`. Other
      supported parameters are `data-player-id`, `data-embed` and `data-playlist-id`.
    --&gt;
    &lt;amp-brightcove
      data-account="1752604059001"
      data-video-id="5715315990001"
      data-player-id="H1xW7NWcz"
      layout="responsive"
      width="16" height="9"&gt;
    &lt;/amp-brightcove&gt;

  &lt;/body&gt;
  &lt;/html&gt;</code></pre>
    </section>
    <section class="bcls-section">
        <h2 id="Features">Features</h2>
        <p>Although discussed in the AMP documentation, a few features are highlighted here that are of special importance:</p>
        <!-- These are features that are common to both Video Cloud and external videos -->
        <!-- THIS SECTION CAN BE ADDED TO THEN COPIED TO SIMILAR SECTION IN EXTERNAL VIDEO FEATURES SECTION -->

        <h3 id="Custom_parameters">Custom parameters</h3>
        <p>You may want to pass additional information through to your player for your plugins to access. You can do this by adding extra attributes on the <code translate="No">amp-brightcove</code> element that must be named <code translate="No">data-param-*</code>, where <code translate="No">*</code> is the name of your property.</p>
        <p>The parameters are passed through as camel cased attribute names appended to the player URL. Keys and values are URL encoded. For example:</p>
        <ul>
            <li><code translate="No">data-param-language="de"</code> becomes <code translate="No">&amp;language=de</code></li>
            <li><code translate="No">data-param-ad-vars="key:val;key2:val2"</code> becomes <code translate="No">&amp;adVars=key%3Aval%3Bkey2%3Aval2</code></li>
        </ul>
        <h3 id="dock">dock (picture-in-picture)</h3>
        <p>The <code translate="No">dock</code> attribute will "dock" the player when it would be scrolled out of view. The player is made smaller and moved near the top-right of the web page. Note that HTML standards refer to this feature as <strong>picture-in-picture</strong>. A screenshot of a docked player follows:</p>
        <figure class="bcls-figure"><img class="bcls-image" alt="dock" src="/assets/images/amp/amp-vc-amp-dock.png" /></figure>
        <p>To implement this feature you need to do the following:</p>
        <ol>
            <li>Include a script that contains the code for the dock feature, as shown in the following code snippet at line 2.</li>
            <li>Add the <code translate="No">dock</code> attribute to the <code translate="No">&lt;amp-brightcove&gt;</code> tag, as shown in line 13.</li>
        </ol>
        <pre class="line-numbers" data-start="1">
  <code class="language-html" translate="No">...
      <span class="bcls-highlight">&lt;script async custom-element="amp-video-docking" src="https://cdn.ampproject.org/v0/amp-video-docking-0.1.js"&gt;&lt;/script&gt;</span>
  &lt;/head&gt;
  &lt;body&gt;

  ...
      &lt;amp-brightcove
      data-account="1752604059001"
      data-video-id="5715315990001"
      data-player-id="H1xW7NWcz"
      layout="responsive"
      width="16" height="9"
      <span class="bcls-highlight">dock</span>&gt;
    &lt;/amp-brightcove&gt;
    ...</code></pre>
        <h3>External referrer support</h3>
        <p>Brightcove Player v6.25.0+ supports setting an arbitrary referrer on an iframe. The AMP component now supports passing through its own referrer to the player, by adding a <code translate="No">referrer="EXTERNAL_REFERRER"</code> attribute their amp-brightcove embed.</p>
        <p>EXTERNAL_REFERRER is AMP's own macro - see <a href="https://github.com/ampproject/amphtml/blob/19135a3aac7813a9ff263a9f863fe35aeb316582/spec/amp-var-substitutions.md#external-referrer">https://github.com/ampproject/amphtml/blob/19135a3aac7813a9ff263a9f863fe35aeb316582/spec/amp-var-substitutions.md#external-referrer</a> for further information.</p>
        <h3>AMP Analytics</h3>
        <p>An <strong>amp-analytics</strong> component can be used in an AMP document to track data to any arbitrary analytics. If publishers wish to include video events they can now do so.</p>
        <p>AMP's doc on the AMP Analytics syntax (which is cumbersome) is here: <a href="https://www.ampproject.org/docs/reference/components/amp-analytics">https://www.ampproject.org/docs/reference/components/amp-analytics</a>. And specifically video analytics: <a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-video-analytics.md">https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-video-analytics.md</a>.</p>
        <p>An example is available, tracking to <strong>example.com</strong> so you'll see the beacons as errors in the network tab: <a href="http://solutions.brightcove.com/bclifford/ampexamples/analytics.html">http://solutions.brightcove.com/bclifford/ampexamples/analytics.html</a>.</p>
        <h3>AMP Bind</h3>
        <p>AMP Bind is AMP's API for interacting between components. At a basic level, it allows you to have something external to the player to control playback. For example, the following code would play a video, where <code translate="No">myPlayer</code> is the <code translate="No">id</code> of the amp-brightcove player.</p>
        <pre class="line-numbers">
    <code class="language-html" translate="No">&lt;button on="tap:myPlayer.play"&gt;Play&lt;/button&gt;</code></pre>
        <p>AMP doesn't trust video events so you can't currently do something more useful, like acting on a video end. An example of this is available here: <a href="http://solutions.brightcove.com/bclifford/ampexamples/bind.html">http://solutions.brightcove.com/bclifford/ampexamples/bind.html</a>.</p>
        <!-- END OF COMMON FEATURES -->
        <!-- These are features unique to Video Cloud videos and NOT shared with external videos -->

<!--         <h3>Advertising</h3>
        <p>Advertising, including prerolls, works in players used in AMP. The ad plugin and its configuration just needs to be included in the player's configuration. If you need to include article-specific values in your ad server calls, you can pass custom data through to a player plugin as described later in this document.</p>
        <p>AMP is very strict in what can be added to a valid AMP page, as detailed in the <a href="/amp/amp-using-video-cloud-video.html">AMP Using a Video Cloud Video</a> document. For example, you CANNOT use the standard practice of adding an <code translate="No">id</code> to the <code translate="No">amp-brightcove</code> tag then use a <code translate="No">script</code> block to configure, for instance, the IMA3 plugin. To reiterate, advertising must be implemented in the player's configuration, either using Studio or the Player Management API.</p>
        <p>If you wish to use ad configuration URLs that utilize an ad macro such as <code translate="No">{pageVariable.<span class="bcls-highlight">adId</span>}</code>, you must alter the player's configuration. You can use a custom parameter like:</p>
        <pre class="line-numbers">
  <code class="language-html" translate="No">data-param-ad-id="preonlybumper"</code></pre>
        <p>This does not make the value automatically available to the ad macro <code translate="No">{pageVariable.adId}</code>. To make the <code translate="No">ad-id/adId</code> property available to the ad URL, you must use Brightcove Player's <a href="/general/player-configuration-guide.html#query_string_to_window">query_string_to_window</a> configuration option. This option controls the population of the global namespace (window) variables from query string parameters. To add all query parameters to the global namespace, add the following to your player configuration:
            <pre class="line-numbers">
<code class="language-bash" translate="No">"query_string_to_window": {
  "target": "queryStringParams"
}</code></pre>
            <p>Note the <code translate="no">queryStringsParams</code> name is the "variable" in which the parameters will be stored, and you can change the name as you choose.</p>
            <p>If for some reason you prefer to only assign limited parameters to the global namespace you can do so. For instance, to make only the <code class="language-html" translate="No">data-param-<span class="bcls-highlight">ad-id</span>="..."</code> available to the plugin, you add the following to the player configuration:</p>
            <pre class="line-numbers">
<code class="language-bash" translate="No">"query_string_to_window": {
  "globals": [
    "adId"
  ]
}</code></pre>
            <p>For specific instructions on updating a player configuration see <a href="https://apis.support.brightcove.com/player-management/references/reference.html#operation/UpdatePlayerConfiguration">Player Configurations - Update a Player Configuration</a> from the Player Management API reference.</p>
 -->            <h3>Styling the player</h3>
            <p>If you wish to style the player you must use special syntax to do so. For instance, if you want to set the size of the player, you would create a <code translate="No">style</code> block as shown and surround the player with a <code translate="No">div</code>, as shown here:</p>
            <pre class="line-numbers">
  <code class="language-html" translate="No">&lt;style <span class="bcls-highlight">amp-custom</span>&gt;
    .player-container {
      width: 640px;
      height: 360px;
    }
  &lt;/style&gt;&lt;/code&gt;&lt;/pre&gt;

  ...

  &lt;div class="player-container"&gt;
    &lt;amp-brightcove
      data-account="1752604059001"
      data-video-id="5715315990001"
      data-player-id="H1xW7NWcz"
      layout="responsive"
      width="16" height="9"&gt;
    &lt;/amp-brightcove&gt;
  &lt;/div&gt;</code></pre>
            <p>You can add a single <code translate="No">style</code> tag, but it must include the <code translate="No">amp-custom</code> attribute.</p>
    </section>

    <section class="bcls-section">
        <h2 id="Error_suppression">Error suppression for bots</h2>
        <p>When a bot that does not support AMP browses a page that contains the AMP video player, a failing video error is generated. This can hurt SEO ranking. You can use the <code translate="No">suppressNotSupportedError</code> option in the Brightcove Player's JSON configuration to stop this from occurring. Add the following to suppress these spurious errors:</p>
        <pre class="line-numbers"><code class="language-json" translate="No">"suppress_not_supported_error": true</code></pre>
        <p>For this to function you must be on Brightcove Player version 6.38.4 or later.</p>
    </section>
    <section class="bcls-section">
      <h2 id="Autoplay">Autoplay</h2>
      <p>A warning may appear in the browser console if you use autoplay:</p>
      <aside class="bcls-aside bcls-aside--warning">Autoplay option disabled. AMP requires autoplay to be managed by adding `autoplay` to the AMP embed instead.</aside>
      <p>This error will appear if you use any autoplay option within the Brightcove Player configuration. "autoplay" must be set to false or be absent from the player configuration for the warning not to appear.
  
        AMP rules require that players in AMP only start playback if initiated by a user action or by AMP-managed autoplay, which can be set by adding the <code translate="No">autoplay</code> attribute to the <code translate="No">amp-brightcove</code> element.
        
        Brightcove recommends using a dedicated player for AMP pages without the autoplay setting within the player configuration if autoplay is required.</p>
      </section>
</article>